testFiles = [
	'2023-01-15 17-48-41.mp4.1154.png',
	'2023-01-15 17-48-41.mp4.1155.png',
	'2023-01-15 17-48-41.mp4.1156.png',
	'2023-01-15 17-48-41.mp4.1157.png',
	'2023-01-15 17-48-41.mp4.1158.png',
	'2023-01-15 17-48-41.mp4.1159.png',
	'2023-01-15 17-48-41.mp4.1160.png',
	'2023-01-15 17-48-41.mp4.1161.png',
	'2023-01-15 17-48-41.mp4.1162.png',
	'2023-01-15 17-48-41.mp4.1163.png',
	'2023-01-15 17-48-41.mp4.1164.png',
	'2023-01-15 17-48-41.mp4.1165.png',
	'2023-01-15 17-48-41.mp4.1166.png',
	'2023-01-15 17-48-41.mp4.1167.png',
	'2023-01-15 17-48-41.mp4.1168.png',
	'2023-01-15 17-48-41.mp4.1169.png',
	'2023-01-15 17-48-41.mp4.1170.png',
	'2023-01-15 17-48-41.mp4.1171.png',
	'2023-01-15 17-48-41.mp4.1172.png',
	'2023-01-15 17-48-41.mp4.2254.png',
	'2023-01-15 17-48-41.mp4.2255.png',
	'2023-01-15 17-48-41.mp4.2256.png',
	'2023-01-15 17-48-41.mp4.2257.png',
	'2023-01-15 17-48-41.mp4.2258.png',
	'2023-01-15 17-48-41.mp4.2259.png',
	'2023-01-15 17-48-41.mp4.2267.png',
	'2023-01-15 17-48-41.mp4.2268.png',
	'2023-01-15 17-48-41.mp4.2269.png',
	'2023-01-15 17-48-41.mp4.2270.png',
	'2023-01-15 17-48-41.mp4.2271.png',
	'2023-01-15 17-48-41.mp4.2272.png',
	'2023-01-15 17-48-41.mp4.2273.png',
	'2023-01-15 17-48-41.mp4.230.png',
	'2023-01-15 17-48-41.mp4.231.png',
	'2023-01-15 17-48-41.mp4.232.png',
	'2023-01-15 17-48-41.mp4.233.png',
	'2023-01-15 17-48-41.mp4.234.png',
	'2023-01-15 17-48-41.mp4.235.png',
	'2023-01-15 17-48-41.mp4.236.png',
	'2023-01-15 17-48-41.mp4.237.png',
	'2023-01-15 17-48-41.mp4.238.png',
	'2023-01-15 17-48-41.mp4.239.png',
	'2023-01-15 17-48-41.mp4.3201.png',
	'2023-01-15 17-48-41.mp4.3202.png',
	'2023-01-15 17-48-41.mp4.3203.png',
	'2023-01-15 17-48-41.mp4.3204.png',
	'2023-01-15 17-48-41.mp4.3205.png',
	'2023-01-15 17-48-41.mp4.3206.png',
	'2023-01-15 17-48-41.mp4.3231.png',
	'2023-01-15 17-48-41.mp4.3232.png',
	'2023-01-15 17-48-41.mp4.3233.png',
	'2023-01-15 17-48-41.mp4.3234.png',
	'2023-01-15 17-48-41.mp4.3235.png',
	'2023-01-15 17-48-41.mp4.3236.png',
	'2023-01-15 17-48-41.mp4.3237.png',
	'2023-01-15 17-48-41.mp4.3238.png',
	'2023-01-15 17-48-41.mp4.3239.png',
	'2023-01-15 17-48-41.mp4.3577.png',
	'2023-01-15 17-48-41.mp4.3578.png',
	'2023-01-15 17-48-41.mp4.3579.png',
	'2023-01-15 17-48-41.mp4.3580.png',
	'2023-01-15 17-48-41.mp4.3581.png',
	'2023-01-15 17-48-41.mp4.3582.png',
	'2023-01-15 17-48-41.mp4.437.png',
	'2023-01-15 17-48-41.mp4.438.png',
	'2023-01-15 17-48-41.mp4.439.png',
	'2023-01-15 17-48-41.mp4.440.png',
	'2023-01-15 17-48-41.mp4.441.png',
	'2023-01-15 17-48-41.mp4.442.png',
	'2023-01-15 17-48-41.mp4.443.png',
	'2023-01-15 17-48-41.mp4.444.png',
	'2023-01-15 17-48-41.mp4.445.png',
	'2023-01-15 17-48-41.mp4.446.png',
	'2023-01-15 17-48-41.mp4.447.png',
	'2023-01-15 17-48-41.mp4.448.png',
	'2023-01-15 17-48-41.mp4.449.png',
	'2023-01-15 17-48-41.mp4.450.png',
	'2023-01-15 17-48-41.mp4.451.png',
	'2023-01-15 17-48-41.mp4.452.png',
	'2023-01-15 17-48-41.mp4.453.png',
	'2023-01-15 17-48-41.mp4.454.png',
	'2023-01-15 17-48-41.mp4.455.png',
	'2023-01-15 17-48-41.mp4.4941.png',
	'2023-01-15 17-48-41.mp4.4942.png',
	'2023-01-15 17-48-41.mp4.4943.png',
	'2023-01-15 17-48-41.mp4.4944.png',
	'2023-01-15 17-48-41.mp4.4945.png',
	'2023-01-15 17-48-41.mp4.4946.png',
	'2023-01-15 17-48-41.mp4.4947.png',
	'2023-01-15 17-48-41.mp4.4978.png',
	'2023-01-15 17-48-41.mp4.4979.png',
	'2023-01-15 17-48-41.mp4.4980.png',
	'2023-01-15 17-48-41.mp4.4981.png',
	'2023-01-15 17-48-41.mp4.4982.png',
	'2023-01-15 17-48-41.mp4.4983.png',
	'2023-01-15 17-48-41.mp4.4990.png',
	'2023-01-15 17-48-41.mp4.4991.png',
	'2023-01-15 17-48-41.mp4.4992.png',
	'2023-01-15 17-48-41.mp4.4993.png',
	'2023-01-15 17-48-41.mp4.4994.png',
	'2023-01-15 17-48-41.mp4.4995.png',
	'2023-01-15 17-48-41.mp4.5021.png',
	'2023-01-15 17-48-41.mp4.5022.png',
	'2023-01-15 17-48-41.mp4.5023.png',
	'2023-01-15 17-48-41.mp4.5024.png',
	'2023-01-15 17-48-41.mp4.5025.png',
	'2023-01-15 17-48-41.mp4.5026.png',
	'2023-01-15 17-48-41.mp4.5027.png',
	'2023-01-15 17-48-41.mp4.5028.png',
	'2023-01-15 17-48-41.mp4.5029.png',
	'2023-01-15 17-48-41.mp4.5030.png',
	'2023-01-15 17-48-41.mp4.5031.png',
	'2023-01-15 17-48-41.mp4.5032.png',
	'2023-01-15 17-48-41.mp4.5039.png',
	'2023-01-15 17-48-41.mp4.5468.png',
	'2023-01-15 17-48-41.mp4.5469.png',
	'2023-01-15 17-48-41.mp4.5470.png',
	'2023-01-15 17-48-41.mp4.5471.png',
	'2023-01-15 17-48-41.mp4.5472.png',
	'2023-01-15 17-48-41.mp4.5473.png',
	'2023-01-15 17-48-41.mp4.947.png',
	'2023-01-15 17-48-41.mp4.948.png',
	'2023-01-15 17-48-41.mp4.949.png',
	'2023-01-15 17-48-41.mp4.950.png',
	'2023-01-15 17-48-41.mp4.951.png',
	'2023-01-15 17-48-41.mp4.952.png',
	'2023-01-15 17-48-41.mp4.953.png',
	'2023-01-15 17-48-41.mp4.954.png',
	'2023-01-15 17-48-41.mp4.955.png',
	'2023-01-15 17-48-41.mp4.956.png',
	'2023-01-15 17-48-41.mp4.957.png',
	'2023-01-15 17-48-41.mp4.958.png',
	'2023-01-15 17-48-41.mp4.959.png']

def simpleCrop(img):
	## black on white
	grayImg = cv.cvtColor(img, cv.COLOR_BGR2GRAY)
	_, binImg = cv.threshold(grayImg, 128, 255, cv.THRESH_BINARY_INV)
	box = cv.boundingRect(binImg)
	newImg = crop(img, box)
	if newImg.shape != img.shape:
		return crop(img, box)
	else:
		## white on black
		grayImg = cv.cvtColor(img, cv.COLOR_BGR2GRAY)
		_, binImg = cv.threshold(grayImg, 128, 255, cv.THRESH_BINARY)
		box = cv.boundingRect(binImg)
		newImg = crop(img, box)
		if newImg.shape != img.shape:
			return crop(img, box)
	print('u made a bad assumption')
	return None


def simpleDiff(imgA, imgB):
	imgs = [imgA, imgB]
	imgA, imgB = [simpleCrop(img) for img in imgs]
	h, w, *channels = imgB.shape
	imgA = cv.resize(imgA, (w, h), interpolation = cv.INTER_LINEAR)
	diff = cv.absdiff(imgA, imgB)
	return np.sum(diff)

from common import *
import cv2 as cv
for f in testFiles:
	dire = './sift/mainstat/HP'
	img = cv.imread(f'{dire}/{f}')
	img2 = simpleCrop(img)
	if img2.shape[1] > 25:
		grayImg = cv.cvtColor(img, cv.COLOR_BGR2GRAY)
		_, bina = cv.threshold(grayImg, 128, 255, cv.THRESH_BINARY)
		cv.imshow('bad', img2)
		cv.imshow('bina', bina)
		cv.waitKey()